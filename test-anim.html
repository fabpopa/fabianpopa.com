<!doctype html>

<style>
body { background: black; }

.cells {
  margin-top: 20px;
  width: 100%;
  height: 60px;
  background: white;
}

.cell {
  position: absolute;
  width: 4em;
  height: 4em;
}

.cell .jiggleX {
  width: 100%;
  height: 100%;
  animation: 1s ease-in-out infinite alternate jiggleX;
}

.cell .jiggleY {
  width: 100%;
  height: 100%;
  animation: .6s ease-in-out infinite alternate jiggleY;
}

.cell .out {
  width: 100%;
  height: 100%;
  background: #f27474;
  border-radius: 50%;
  animation: 2s linear infinite out;
}

.cell .in {
  position: absolute;
  top: 0;
  left: 25%;
  width: 2em;
  height: 2em;
  background: #d23a3a;
  border-radius: 50%;
  animation: 2s linear infinite in;
}

@keyframes jiggleX {
  0% { transform: translateX(-.1em); }
  100% { transform: translateX(.1em); }
}

@keyframes jiggleY {
  0% { transform: translateY(-.1em); }
  100% { transform: translateY(.1em); }
}

@keyframes out {
  0%, 100% { transform: scaleY(.2); }
  50% { transform: scaleY(1); }
}

@keyframes in {
  0% { transform: translateY(.65em) scale(.95, 0); }
  50% { transform: translateY(1em) scale(1, 1); }
  100% { transform: translateY(1.35em) scale(.9, 0); }
}
</style>

<!-- <div class="cells">
  <div class="cell" style="transform:translateX(10px);font-size:10px">
    <div class="jiggleX"><div class="jiggleY">
      <div class="out"></div><div class="in"></div>
    </div></div>
  </div>
  <div class="cell" style="transform:translateX(60px);font-size:14px">
    <div class="jiggleX"><div class="jiggleY">
      <div class="out"></div><div class="in"></div>
    </div></div>
  </div>
    <div class="cell" style="transform:translateX(140px);font-size:18px">
      <div class="jiggleX"><div class="jiggleY">
        <div class="out"></div><div class="in"></div>
      </div></div>
    </div>
</div> -->

<script>
const go = () => {
  const elWithClass = (tag, cls) => {
    const el = document.createElement(tag);
    el.className = cls;
    return el;
  }

  const cells = elWithClass('div', 'cells');
  document.body.appendChild(cells);

  const addCell = () => {
    const emPx = 4 + Math.round(Math.random() * 10);
    const posXPx = Math.round(Math.random() * 500);
    const angleDeg = -120 + Math.round(Math.random() * 60);

    const cell = elWithClass('div', 'cell');
    const jiggleX = elWithClass('div', 'jiggleX');
    const jiggleY = elWithClass('div', 'jiggleY');
    const cellOut = elWithClass('div', 'out');
    const cellIn = elWithClass('div', 'in');
    jiggleY.appendChild(cellOut);
    jiggleY.appendChild(cellIn);
    jiggleX.appendChild(jiggleY);
    cell.appendChild(jiggleX);

    cell.style.cssText = ''
      .concat(`font-size: ${emPx}px;`)
      .concat(`transform: translateX(${posXPx}px) rotate(${angleDeg}deg)`);
    cells.appendChild(cell);
  };

  document.body.addEventListener('click', addCell);
};

document.addEventListener('DOMContentLoaded', go);
</script>
